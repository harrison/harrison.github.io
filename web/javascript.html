<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | Vanalso`s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="个人技术博客">
    
    <link rel="preload" href="/assets/css/0.styles.f7b20a5d.css" as="style"><link rel="preload" href="/assets/js/app.08f5e775.js" as="script"><link rel="preload" href="/assets/js/2.62bc100e.js" as="script"><link rel="preload" href="/assets/js/27.ea935bde.js" as="script"><link rel="prefetch" href="/assets/js/10.dca7ef23.js"><link rel="prefetch" href="/assets/js/11.fe541fc7.js"><link rel="prefetch" href="/assets/js/12.35bffc90.js"><link rel="prefetch" href="/assets/js/13.7e939e2d.js"><link rel="prefetch" href="/assets/js/14.83e01c9b.js"><link rel="prefetch" href="/assets/js/15.e636b568.js"><link rel="prefetch" href="/assets/js/16.2e59fe88.js"><link rel="prefetch" href="/assets/js/17.93e516c0.js"><link rel="prefetch" href="/assets/js/18.387cf011.js"><link rel="prefetch" href="/assets/js/19.3b5a8d1c.js"><link rel="prefetch" href="/assets/js/20.77c93828.js"><link rel="prefetch" href="/assets/js/21.ae1e5108.js"><link rel="prefetch" href="/assets/js/22.e2804fbe.js"><link rel="prefetch" href="/assets/js/23.7beb3c8b.js"><link rel="prefetch" href="/assets/js/24.980d788b.js"><link rel="prefetch" href="/assets/js/25.bf0753ef.js"><link rel="prefetch" href="/assets/js/26.291d9310.js"><link rel="prefetch" href="/assets/js/28.568b1e1d.js"><link rel="prefetch" href="/assets/js/29.f06e317b.js"><link rel="prefetch" href="/assets/js/3.93a09df7.js"><link rel="prefetch" href="/assets/js/30.639edaf6.js"><link rel="prefetch" href="/assets/js/4.333ac114.js"><link rel="prefetch" href="/assets/js/5.6366a367.js"><link rel="prefetch" href="/assets/js/6.2958d7f8.js"><link rel="prefetch" href="/assets/js/7.4f3f4813.js"><link rel="prefetch" href="/assets/js/8.31dde4fa.js"><link rel="prefetch" href="/assets/js/9.2f2eba49.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f7b20a5d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Vanalso`s Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/css.html" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/web/javascript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/typescript.html" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/web/vue3.html" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/web/Webpack.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/web/fontawesome.html" class="nav-link">
  fontawesome
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="插件" class="dropdown-title"><span class="title">插件</span> <span class="arrow down"></span></button> <button type="button" aria-label="插件" class="mobile-dropdown-title"><span class="title">插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/script/preload.html" class="nav-link">
  自动预加载
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后台" class="dropdown-title"><span class="title">后台</span> <span class="arrow down"></span></button> <button type="button" aria-label="后台" class="mobile-dropdown-title"><span class="title">后台</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/server/php.html" class="nav-link">
  Php
</a></li><li class="dropdown-item"><!----> <a href="/server/nodejs.html" class="nav-link">
  NodeJs
</a></li><li class="dropdown-item"><!----> <a href="/server/docker.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/server/go.html" class="nav-link">
  Go
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/vscode.html" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/tools/markdown.html" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/tools/uglifyjs.html" class="nav-link">
  js压缩
</a></li><li class="dropdown-item"><!----> <a href="/tools/datamanage.html" class="nav-link">
  资料包管理系统操作指南
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="系统" class="dropdown-title"><span class="title">系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="系统" class="mobile-dropdown-title"><span class="title">系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/mac.html" class="nav-link">
  Mac OS
</a></li><li class="dropdown-item"><!----> <a href="/os/linux.html" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Bug" class="dropdown-title"><span class="title">Bug</span> <span class="arrow down"></span></button> <button type="button" aria-label="Bug" class="mobile-dropdown-title"><span class="title">Bug</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bug/bug.html" class="nav-link">
  Bug
</a></li></ul></div></div><div class="nav-item"><a href="/other/other.html" class="nav-link">
  杂项
</a></div><div class="nav-item"><a href="https://github.com/harrison" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/css.html" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/web/javascript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/typescript.html" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/web/vue3.html" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/web/Webpack.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/web/fontawesome.html" class="nav-link">
  fontawesome
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="插件" class="dropdown-title"><span class="title">插件</span> <span class="arrow down"></span></button> <button type="button" aria-label="插件" class="mobile-dropdown-title"><span class="title">插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/script/preload.html" class="nav-link">
  自动预加载
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后台" class="dropdown-title"><span class="title">后台</span> <span class="arrow down"></span></button> <button type="button" aria-label="后台" class="mobile-dropdown-title"><span class="title">后台</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/server/php.html" class="nav-link">
  Php
</a></li><li class="dropdown-item"><!----> <a href="/server/nodejs.html" class="nav-link">
  NodeJs
</a></li><li class="dropdown-item"><!----> <a href="/server/docker.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/server/go.html" class="nav-link">
  Go
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/vscode.html" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/tools/markdown.html" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/tools/uglifyjs.html" class="nav-link">
  js压缩
</a></li><li class="dropdown-item"><!----> <a href="/tools/datamanage.html" class="nav-link">
  资料包管理系统操作指南
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="系统" class="dropdown-title"><span class="title">系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="系统" class="mobile-dropdown-title"><span class="title">系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/mac.html" class="nav-link">
  Mac OS
</a></li><li class="dropdown-item"><!----> <a href="/os/linux.html" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Bug" class="dropdown-title"><span class="title">Bug</span> <span class="arrow down"></span></button> <button type="button" aria-label="Bug" class="mobile-dropdown-title"><span class="title">Bug</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bug/bug.html" class="nav-link">
  Bug
</a></li></ul></div></div><div class="nav-item"><a href="/other/other.html" class="nav-link">
  杂项
</a></div><div class="nav-item"><a href="https://github.com/harrison" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web/javascript.html#js中的位运算符的使用方法" class="sidebar-link">js中的位运算符的使用方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript.html#js中位运算符的妙用" class="sidebar-link">js中位运算符的妙用</a></li></ul></li><li><a href="/web/javascript.html#循环" class="sidebar-link">循环</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/web/javascript.html#数组" class="sidebar-link">数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript.html#伪数组" class="sidebar-link">伪数组</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#array-from-arraylike-mapfn-this" class="sidebar-link">Array.from(ArrayLike, mapFn, this)</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#array-of" class="sidebar-link">Array.of()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#array-prototype-fill-value-start-end" class="sidebar-link">Array.prototype.fill(value, start, end)</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#array-prototype-find" class="sidebar-link">Array.prototype.find()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#array-prototype-findindex" class="sidebar-link">Array.prototype.findIndex()</a></li></ul></li><li><a href="/web/javascript.html#class" class="sidebar-link">Class</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/web/javascript.html#function" class="sidebar-link">Function</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript.html#函数参数默认值" class="sidebar-link">函数参数默认值</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#获取不定参" class="sidebar-link">获取不定参</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#箭头函数" class="sidebar-link">箭头函数</a></li></ul></li><li><a href="/web/javascript.html#object" class="sidebar-link">Object</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript.html#object简写" class="sidebar-link">Object简写</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#使用表达式定义key" class="sidebar-link">使用表达式定义key</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#函数简写" class="sidebar-link">函数简写</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#object-assign" class="sidebar-link">Object.assign()</a></li></ul></li><li><a href="/web/javascript.html#set-新增数据结构" class="sidebar-link">Set 新增数据结构</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/web/javascript.html#map-新增数据结构" class="sidebar-link">Map 新增数据结构</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/web/javascript.html#正则表达式" class="sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript.html#y修饰符" class="sidebar-link">y修饰符</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#u修饰符" class="sidebar-link">u修饰符</a></li></ul></li><li><a href="/web/javascript.html#异步操作-promise" class="sidebar-link">异步操作 Promise</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript.html#promise-prototype-then-onfulfilled-onrejected" class="sidebar-link">Promise.prototype.then(onFulfilled, onRejected)</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#promise-静态方法" class="sidebar-link">Promise 静态方法</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#all" class="sidebar-link">All</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#race" class="sidebar-link">Race</a></li></ul></li><li><a href="/web/javascript.html#reflect-反射机制" class="sidebar-link">Reflect 反射机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-apply" class="sidebar-link">Reflect.apply()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-construct" class="sidebar-link">Reflect.construct()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-defineproperty" class="sidebar-link">Reflect.defineProperty()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-deleteproperty" class="sidebar-link">Reflect.deleteProperty()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-get" class="sidebar-link">Reflect.get()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-getownpropertydescriptor" class="sidebar-link">Reflect.getOwnPropertyDescriptor()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-getpropertyof" class="sidebar-link">Reflect.getPropertyOf()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-has" class="sidebar-link">Reflect.has()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-isextensible" class="sidebar-link">Reflect.isExtensible()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-ownkeys" class="sidebar-link">Reflect.ownKeys()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-preventextensions" class="sidebar-link">Reflect.preventExtensions()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-set" class="sidebar-link">Reflect.set()</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#reflect-setpropertyof" class="sidebar-link">Reflect.setPropertyOf()</a></li></ul></li><li><a href="/web/javascript.html#proxy-代理" class="sidebar-link">Proxy 代理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript.html#使用案例-定义一个类-使每个实例对象都有自己的id-且只读" class="sidebar-link">使用案例：定义一个类，使每个实例对象都有自己的id，且只读</a></li><li class="sidebar-sub-header"><a href="/web/javascript.html#临时代理" class="sidebar-link">临时代理</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <h2 id="js中的位运算符的使用方法"><a href="#js中的位运算符的使用方法" class="header-anchor">#</a> js中的位运算符的使用方法</h2> <ol><li><p><strong>&amp; 按位与</strong>
&amp; 是二元运算符，它以特定的方式的方式组合操作数中对应的位，如果对应的位都为1，那么结果就是1， 如果任意一个位是0 则结果就是0。</p> <p>1 &amp; 3的结果为1</p> <p>那我们来看看他是怎么运行的</p> <p>1的二进制表示为 0 0 0 0 0 0 1</p> <p>3的二进制表示为 0 0 0 0 0 1 1</p> <p>根据 &amp; 的规则 得到的结果为 0 0 0 0 0 0 0 1,十进制表示就是1</p></li> <li><p><strong>｜ 按位或</strong>
| 运算符跟&amp;的区别在于如果对应的位中任一个操作数为1 那么结果就是1。</p> <p>1的二进制表示为 0 0 0 0 0 0 1</p> <p>3的二进制表示为 0 0 0 0 0 1 1</p> <p>所以 1 | 3的结果为3</p></li> <li><p><strong>^ 按位异或</strong>
^运算符跟|类似，但有一点不同的是 如果两个操作位都为1的话，结果产生0。</p> <p>1的二进制表示为 0 0 0 0 0 0 1</p> <p>3的二进制表示为 0 0 0 0 0 1 1</p> <p>所以 1 ^ 3的结果为2</p></li> <li><p><strong>~ 按位非</strong>
~运算符是对位求反，1变0,0变1，也就是求二进制的反码</p> <p>1的二进制表示为 0 0 0 0 0 0 1</p> <p>所以 ~1 的结果是-2</p></li> <li><p><strong>&gt;&gt; 右移</strong>
&gt;&gt;运算符使指定值的二进制所有位都右移规定的次数，对于其移动规则只需记住符号位不变，左边补上符号位即按二进制形式把所有的数字向右移动对应的位数，低位移出(舍弃)，高位的空位补符号位，即正数补零，负数补1。</p> <p>1的二进制表示为 0 0 0 0 0 0 1</p> <p>所以 1&gt;&gt;1的结果为0</p></li> <li><p><strong>&lt;&lt; 左移</strong>
&lt;&lt;运算符使指定值的二进制所有位都左移规定的次数，对于其移动规则只需记住丢弃最高位，0补最低位即按二进制形式把所有的数字向左移动对应的位数，高位移出(舍弃)，低位的空位补零。</p> <p>1的二进制表示为 0 0 0 0 0 0 1</p> <p>所以 1&lt;&lt;1的结果为2 7、&gt;&gt;&gt; 无符号右移</p></li></ol> <h3 id="js中位运算符的妙用"><a href="#js中位运算符的妙用" class="header-anchor">#</a> js中位运算符的妙用</h3> <ol><li><p><strong>使用&amp;运算符判断一个数的奇偶</strong></p> <p>偶数 &amp; 1 = 0</p> <p>奇数 &amp; 1 = 1</p> <p>那么0&amp;1=0,1&amp;1=1</p></li> <li><p><strong>使用~~，&gt;&gt;,&lt;&lt;,&gt;&gt;&gt;,|来取整</strong></p> <p>~~3.14 = 3</p> <p>3.14 &gt;&gt; 0 = 3</p> <p>3.14 &lt;&lt; 0 = 3 3.14 | 0 = 3 3.14 &gt;&gt;&gt; 0 = 3(&gt;&gt;&gt;不可对负数取整)</p> <p>注意：~~-3.14 = -3 其它的一样</p></li> <li><p>使用&lt;&lt;,&gt;&gt;来计算乘除</p> <p>乘法：</p> <p>1*2 = 2</p> <p>1&lt;&gt;1 = 1(2/2的一次方)</p></li> <li><p>利用^来完成比较两个数是否相等</p> <p>1 ^ 1 = 0</p> <p>1 ^ 非1数 ！=0</p> <p>所以同一个数……同一个数等于0，否则不等于0</p></li> <li><p>使用^来完成值交换</p> <p>a = 1</p> <p>b = 2</p> <p>a ^= b</p> <p>b ^= a</p> <p>a ^= b</p> <p>结果a=2，b=1</p></li> <li><p>使用&amp;,&gt;&gt;,|来完成rgb值和16进制颜色值之间的转换</p></li></ol> <ul><li>16进制颜色值转RGB：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">hexToRGB</span><span class="token punctuation">(</span><span class="token parameter">hex</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> hex <span class="token operator">=</span> hex<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;#&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            r <span class="token operator">=</span> hex <span class="token operator">&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">,</span>
            g <span class="token operator">=</span> hex <span class="token operator">&gt;&gt;</span> <span class="token number">8</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">,</span>
            b <span class="token operator">=</span> hex <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;rgb(&quot;</span><span class="token operator">+</span>r<span class="token operator">+</span><span class="token string">&quot;,&quot;</span><span class="token operator">+</span>g<span class="token operator">+</span><span class="token string">&quot;,&quot;</span><span class="token operator">+</span>b<span class="token operator">+</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>RGB转16进制颜色值：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">RGBToHex</span><span class="token punctuation">(</span><span class="token parameter">rgb</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> rgbArr <span class="token operator">=</span> rgb<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^\d]+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            color <span class="token operator">=</span> rgbArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">16</span> <span class="token operator">|</span> rgbArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">8</span> <span class="token operator">|</span> rgbArr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;#&quot;</span><span class="token operator">+</span>color<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>运行hexToRGB(&quot;#ffffff&quot;)返回&quot;rgb(255,255,255)&quot;</p> <p>运行RGBToHex(&quot;rgb(255,255,255)&quot;)返回&quot;#ffffff&quot;</p> <h2 id="循环"><a href="#循环" class="header-anchor">#</a> 循环</h2> <ol><li>for循环</li></ol> <p>代码略</p> <p>支持break、continue语法，break终止循环，continue跳过本次循环</p> <ol start="2"><li>forEach</li></ol> <p>代码略</p> <p>不支持break、continue语法，forEach循环不接受控制，必须从头遍历到尾</p> <ol start="3"><li>every</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>

    arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>every的语法形式与forEach类似，同样接受一个function参数，但不同的是every需要一个返回值，当返回值为true的时候才会执行下一次循环，默认返回false，也就是说every与forEach不同点在于every接受程序控制，可以使用返回值达到break、continue的效果</p> <ol start="4"><li>for in</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>forin也可以用来循环数组，但存在问题，因为forin是为遍历对象设计的，数组之所以可以被遍历，因为数组也是一个对象，对象可以被追加属性，例如在上例中如果为arr追加属性a，arr.a = 6，执行forin后a属性也会被遍历出来，但对于数组中我们理解的索引值a并不合法</p> <p>forin同样支持break、continue语法</p> <p>注意，对于forin中的自定义变量index，是索引，或者说是属性名，是一个字符串类型，判断时要注意变量类型</p> <ol start="5"><li>for of</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>for of为ES6新增语法，主要为解决自定义数据类型遍历问题，同样可以遍历数组，只是其功能要比上述其他遍历方法更强大</p> <h2 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h2> <h3 id="伪数组"><a href="#伪数组" class="header-anchor">#</a> 伪数组</h3> <p>伪数组需要满足两个条件</p> <ol><li>元素按索引排列</li> <li>具有length属性</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token punctuation">{</span><span class="token number">0</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
    <span class="token punctuation">{</span>length<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span>

    <span class="token comment">// 这些都是伪数组</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>伪数组不可以被遍历，如果想像数组一样被遍历，需要转化为数组，例如获取到的NodeList、获取不定参arguments</p> <p>ES5中转化伪数组使用：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
    <span class="token keyword">let</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="array-from-arraylike-mapfn-this"><a href="#array-from-arraylike-mapfn-this" class="header-anchor">#</a> Array.from(ArrayLike, mapFn, this)</h3> <p>Array.from是ES6中新增语法，接收三个参数，第一个是伪数组，第二个是遍历函数，第三个是遍历函数当中的this指向</p> <p>例如转换伪数组，可以用Array.from来做</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arg <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例如需要初始化一个长度为5且每位值为1的数组，第一个参数传递了一个伪数组，指定长度为5，第二个参数传递了一个遍历函数，因为数组长度为5，所以遍历函数会被执行5次，并且每次循环返回了1，为数组中每个元素赋值为1</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="array-of"><a href="#array-of" class="header-anchor">#</a> Array.of()</h3> <p>Array.of()用于生成新数组，接收一个或多个参数，指定元素内容，从结果来看与字面量写法相同。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">// 字面量写法</span>
    <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
    <span class="token comment">// Array.of</span>
    <span class="token keyword">let</span> array <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="array-prototype-fill-value-start-end"><a href="#array-prototype-fill-value-start-end" class="header-anchor">#</a> Array.prototype.fill(value, start, end)</h3> <p>Array.fill()顾名思义是用来填充数组的，第一个参数是要填充的值，后面两个参数为可选参数，默认为0和array.length - 1，用来指定填充的起始和终止位置。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">// 假设要初始化一个长度为5且元素均为0的数组</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token comment">// 假设需要修改数组中某些位置的值 索引2、3改为0</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token comment">// 从这里可以看出，填充是包含start索引，不包含end索引的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="array-prototype-find"><a href="#array-prototype-find" class="header-anchor">#</a> Array.prototype.find()</h3> <p>Array.find()是用来查找数组中元素的，与其对位的ES5种filter方法，他们之间的区别是：</p> <ol><li>Array.filter() 方法的返回值是数组，包含了数组中所有符合条件的元素，当数组很长时，会消耗时间遍历所有元素；</li> <li>Array.find() 方法的返回值是被找到的元素，如果没有找到符合条件的元素则返回undefined，find()方法不会遍历完整数组，当找到第一个符合条件的元素时直接返回，后面的不会被遍历。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> find <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 2,4</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>find<span class="token punctuation">)</span>
    
    find <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>find<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="array-prototype-findindex"><a href="#array-prototype-findindex" class="header-anchor">#</a> Array.prototype.findIndex()</h3> <p>findIndex() 与上面find() 类似，是用来找目标索引的</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
    
    find <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>find<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="class"><a href="#class" class="header-anchor">#</a> Class</h2> <p>由于ES5以前是没有class的，所以面向对象编程都是以Function来实现的，主要缺点就是写起来比较麻烦，类的方法要挂在原型链上。
ES6中新增加了Class的概念，让类的定义变得更加简单，更像面向对象，注意这里用的是“像”，因为本质来讲ES6新增的Class属于语法糖，与Function除了写法简洁没什么其他的区别。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    Class Animal <span class="token punctuation">{</span>
        <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type
        <span class="token punctuation">}</span>
        <span class="token function">eat</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">+</span> <span class="token string">' eat'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// getter setter</span>
        <span class="token keyword">get</span> <span class="token function">name</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
        <span class="token punctuation">}</span>
        <span class="token keyword">set</span> <span class="token function">name</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> val
        <span class="token punctuation">}</span>
        <span class="token comment">// 静态方法</span>
        <span class="token keyword">static</span> <span class="token function">talk</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'talk'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 继承</span>
    Class Dog <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
        <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 调用父类构造方法</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
        <span class="token punctuation">}</span>
        <span class="token function">run</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">' run'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="function"><a href="#function" class="header-anchor">#</a> Function</h2> <h3 id="函数参数默认值"><a href="#函数参数默认值" class="header-anchor">#</a> 函数参数默认值</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> z <span class="token operator">=</span> x <span class="token operator">+</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">// 使用默认值可以用undefined赋值</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="获取不定参"><a href="#获取不定参" class="header-anchor">#</a> 获取不定参</h3> <h4 id="rest-parameter"><a href="#rest-parameter" class="header-anchor">#</a> Rest Parameter</h4> <p>在ES5中获取不定参使用arguments，但在ES6中已经被废弃，可以使用Rest Parameter来获取不定参</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token parameter">base<span class="token punctuation">,</span> <span class="token operator">...</span>nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> num <span class="token operator">=</span> base
        nums<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            num <span class="token operator">+=</span> item <span class="token operator">*</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> num
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 36</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 40</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>或者可以继续使用Function.length来获取参数数量，但是需要注意，Function.length获取的事定参数量，也就是第一个默认参数前面的变量数</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token parameter">a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span><span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="spread-operator"><a href="#spread-operator" class="header-anchor">#</a> Spread Operator</h4> <p>Spread Operator 和 Rest Parameter 是形似但相反意义的操作符，简单的来说 Rest Parameter 是把不定的参数“收敛”到数组，而 Spread Operator 是把固定的数组内容“打散”到对应的参数。示例如下：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">3</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 9</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 12</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 15</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <p>ES6中新增箭头函数，为常规函数的简写形式，需要注意的是，箭头函数并不修改this指向，定义函数时的this指向即为函数内部的this指向</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> <span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'say hello'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 返回值为表达式可以省略return和{}</span>
    <span class="token keyword">let</span> <span class="token function-variable function">pow</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> x

    <span class="token comment">// 返回值是字面量对象，需要用小括号包裹起来</span>
    <span class="token keyword">let</span> <span class="token function-variable function">person</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        addr<span class="token operator">:</span> <span class="token string">'Beijing City'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// this指向定义时的this，所以下例中this指向test外层的window,window没有name属性，所以返回undefined</span>
    <span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="object"><a href="#object" class="header-anchor">#</a> Object</h2> <h3 id="object简写"><a href="#object简写" class="header-anchor">#</a> Object简写</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span>
    obj <span class="token operator">=</span> <span class="token punctuation">{</span> 
        x<span class="token punctuation">,</span>
        y 
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="使用表达式定义key"><a href="#使用表达式定义key" class="header-anchor">#</a> 使用表达式定义key</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'baz'</span><span class="token operator">+</span> <span class="token function">quux</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">42</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="函数简写"><a href="#函数简写" class="header-anchor">#</a> 函数简写</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">bar</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token operator">*</span> <span class="token function">quux</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="object-assign"><a href="#object-assign" class="header-anchor">#</a> Object.assign()</h3> <p>此函数用于将所有可枚举属性的值从一个或多个源对象复制到目标对象，返回目标对象。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token operator">...</span>sources<span class="token punctuation">)</span>

    <span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
    <span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span>

    <span class="token keyword">const</span> returnedTarget <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
    <span class="token comment">// expected output: Object { a: 1, b: 4, c: 5 }</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedTarget<span class="token punctuation">)</span>
    <span class="token comment">// expected output: Object { a: 1, b: 4, c: 5 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>从语法中可以看出源对象的个数是不限制的，如果是0个，直接返回目标对象，如果是多个，相同的属性会被后面的源对象覆盖。</p> <h2 id="set-新增数据结构"><a href="#set-新增数据结构" class="header-anchor">#</a> Set 新增数据结构</h2> <p>Set数据结构可以理解为集合，其中存储的数据是完全去重的，参数必须为可遍历的，数组或自定义的可遍历结构</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment">// 添加数据</span>
    s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span>

    <span class="token comment">// 删除数据</span>
    s<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>

    <span class="token comment">// 删除全部数据</span>
    s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 查找数据</span>
    s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>

    <span class="token comment">// 统计数据</span>
    s<span class="token punctuation">.</span>size

    <span class="token comment">// 返回所有键名</span>
    s<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 返回所有键值</span>
    s<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 返回所有键值对</span>
    s<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="map-新增数据结构"><a href="#map-新增数据结构" class="header-anchor">#</a> Map 新增数据结构</h2> <p>Map数据结构可以理解为字典，由键值对组成，参数应为可遍历对象，其元素为键值对</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment">// 添加数据，已存在的键值会被修改</span>
    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

    <span class="token comment">// 删除数据</span>
    map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span>

    <span class="token comment">// 删除全部数据</span>
    map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 统计数据</span>
    map<span class="token punctuation">.</span>size

    <span class="token comment">// 查找数据</span>
    map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span>

    <span class="token comment">// 查询值</span>
    map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>

    <span class="token comment">// 返回所有键名</span>
    map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 返回所有键值</span>
    map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 返回所有键值对</span>
    map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>Map数据类型与Object有什么区别？</p> <ol><li>Object的键可以是字符串或Symbols，而Map的键可以为任意值，比如函数，对象；</li> <li>Map中的键值是有序的，而添加到对象中的键不是，因此，当对Map遍历的时候，是按照插入的顺序返回键值；</li> <li>Map可以通过size来快速获取键值对个数，而Object想要获取键值对个数只能手动计算；</li> <li>Map 可直接进行迭代，而 Object 的迭代需要先获取它的键数组，然后再进行迭代；</li> <li>Map在涉及频繁增删键值对的场景下会较Object更有性能优势。</li></ol> <h2 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h2> <h3 id="y修饰符"><a href="#y修饰符" class="header-anchor">#</a> y修饰符</h3> <p>y修饰符意为粘连（Sticky），与g修饰符类似，但不同的是g修饰符多次匹配后只要剩余字符串中存在匹配成功即可，y修饰符要求多次匹配必须从剩余字符串的首位开始符合正则表达式，否则匹配失败。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token string">'aaa_aa_a'</span>
<span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>

r1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aaa&quot;]</span>
r2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aaa&quot;]</span>

r1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aa&quot;]</span>
r2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>上面代码有两个正则表达式，一个使用g修饰符，另一个使用y修饰符。这两个正则表达式各执行了两次，第一次执行的时候，两者行为相同，剩余字符串都是_aa_a。由于g修饰没有位置要求，所以第二次执行会返回结果，而y修饰符要求匹配必须从头部开始，所以返回null。</p> <h3 id="u修饰符"><a href="#u修饰符" class="header-anchor">#</a> u修饰符</h3> <p>u修饰符含义为unicode模式，用来处理大于\uFFFF的unicode字符，因为汉字中有些生僻字的UTF-16编码为四个字节，例如\uD83D\uDC2A</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\uD83D</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'\uD83D\uDC2A'</span><span class="token punctuation">)</span>
<span class="token comment">// false</span>
<span class="token operator">/</span><span class="token operator">^</span>\uD83D<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'\uD83D\uDC2A'</span><span class="token punctuation">)</span>
<span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>但是，ES5不支持四个字节的UTF-16编码，会将其识别为两个字符，导致第二行代码结果为true。加了u修饰符以后，ES6就会识别其为一个字符，所以第一行代码结果为false。</p> <p>简单来说，所有涉及到中文的正则表达式，都加上u修饰符，避免出现码点大于\uFFFF而不能正确匹配的情况。</p> <h2 id="异步操作-promise"><a href="#异步操作-promise" class="header-anchor">#</a> 异步操作 Promise</h2> <p>在ES5中如果存在大量异步操作，很容易引发回调地狱，举个例子，要求顺序加载三个js，就会按照如下的套娃形式：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/1.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/2.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/3.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// ......一步一步嵌套下去</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ES6中引入Promse很好的解决了这个问题</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span>
            script<span class="token punctuation">.</span>src <span class="token operator">=</span> src
            document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span>
            script<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span>
            script<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/1.js'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/4.js'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/3.js'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>Promies接收两个参数分别是resolve和reject，代表成功和失败的回调，一个Promise存在以下三种状态之一：</p> <ol><li>待定（pending）：初始状态，既没有被兑现，也没有被拒绝。</li> <li>已兑现（fulfilled）：意味着操作成功完成。</li> <li>已拒绝（rejected）：意味着操作失败。</li></ol> <p>Promise具有凝固性，即只能由pending转为fulfilled或者rejected，一旦状态改变，就固定下来不可以再次被改变。
当Promise的状态改变之后，Promise的then方法就会被调用，根据状态不同，执行then的函数也不同。</p> <h3 id="promise-prototype-then-onfulfilled-onrejected"><a href="#promise-prototype-then-onfulfilled-onrejected" class="header-anchor">#</a> Promise.prototype.then(onFulfilled, onRejected)</h3> <p>是Promise原型链上的方法，接收的参数一是成功后的方法，二是失败后的方法，第二个参数可选。</p> <h4 id="链式调用规则"><a href="#链式调用规则" class="header-anchor">#</a> 链式调用规则</h4> <ol><li>Promise对象若无返回值的时候，会默认返回一个新的Promise，并且不定义的话自动返回fulfilled</li> <li>Promise对象若返回值不是一个Promise，那么将会自动转换成一个fulfilled的Promise对象</li> <li>Promise对象可以手动返回一个新的Promise，其状态可以我们自己决定，通过三元表达式方式</li> <li>Promise对象若抛出错误error，则返回一个reject的Promise对象，将其作为参数传递给下一个Promise链的then()的第二个参数或者是catch()方法</li> <li>Promise的值可以发生穿透现象，即使中间的then()没有回调参数，那么下面的then()都可以接收该参数</li> <li>Promise只能传递一个参数，如果传递多个的话，必须用数组或对象进行封装，否则多余参数都将返回undefined</li></ol> <h3 id="promise-静态方法"><a href="#promise-静态方法" class="header-anchor">#</a> Promise 静态方法</h3> <h4 id="resolve-reject"><a href="#resolve-reject" class="header-anchor">#</a> resolve &amp; reject</h4> <p>假设点击按钮后需要从后端取到数据，但用户可能会多次点击，为了消除冗余请求，在第一次请求到数据之后就会缓存下来，第二次可以判断如果有值直接返回，此时可以使用promise提供的静态方法来快速返回数据，并且不影响后续then操作。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>userinfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 请求数据</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span>userinfo<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>userinfo<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="catch"><a href="#catch" class="header-anchor">#</a> Catch</h4> <p>catch方法用于统一捕获reject状态，假设有多次链式操作，每个then都要处理reject就显得很麻烦，可以使用catch一次捕获。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>     <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/1.js'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/4.js'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'./js/3.js'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="all"><a href="#all" class="header-anchor">#</a> All</h3> <p>All也是Promise提供的静态方法，目的是同步调用，假设需要请求一批数据但先后顺序无所谓时，可以使用all同步请求节省时间。
All接受一个可遍历的对象，为所有需要同步操作的Promise，结果会统一放在value中。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="race"><a href="#race" class="header-anchor">#</a> Race</h3> <p>Race也是Promise提供的静态方法，用来解决多源优先加载问题，例如一个图片有多个CDN地址，可以同时发起请求返回速度最快的那个。
Race接受的参数与All相同，都是可遍历对象包含Promise, 结果只会返回Promise中返回最快的。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 2</span>
    Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="reflect-反射机制"><a href="#reflect-反射机制" class="header-anchor">#</a> Reflect 反射机制</h2> <p>Reflect是一个内置对象，它提供拦截Javascript操作的方法，这些方法与处理器对象的方法相同。Reflect不是一个函数对象，因此它是不可构造的。
与大多数全局对象不同，Reflect没有构造函数，所以不能将其与new一起使用，Reflect所有属性和方法都是静态的。</p> <h3 id="reflect-apply"><a href="#reflect-apply" class="header-anchor">#</a> Reflect.apply()</h3> <p>Reflect.apply(target, thisArgument, argumentList)
使用指定的参数列表发起对目标函数的调用</p> <p>target是目标函数，thisArgument是规定执行目标函数时的this指向，argumentList是调用目标函数时的参数列表，这个参数是一个类数组对象，后两个参数为可选参数。返回值是调用完成目标函数后的返回结果</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>floor<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2.5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 意为使用2.5这一个参数，去调用Math.floor函数向下取整</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="reflect-construct"><a href="#reflect-construct" class="header-anchor">#</a> Reflect.construct()</h3> <p>Reflect.construct(target, argumentList[, newTarget])
操作相当于new target(argumentList)</p> <p>target是被运行的目标构造函数，argumentList是调用目标构造函数时的参数列表，这个参数是一个类数组对象。返回值是以target函数为构造函数，argumentList为其初始化参数的对象实例。</p> <p>newTarget参数为构造函数，如果传递了这个参数，则表示继承了newTarget这个超类。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
    Reflect<span class="token punctuation">.</span><span class="token function">conscruct</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">someConstructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    ver result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span>Array<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> someConstructor<span class="token punctuation">)</span>

    Reflect<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>   <span class="token comment">// someContrustor.prototype</span>
    Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>   <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="reflect-defineproperty"><a href="#reflect-defineproperty" class="header-anchor">#</a> Reflect.defineProperty()</h3> <p>Reflect.defineProperty(target, propertyKey, attributes)
静态方法，基本等同于Object.defineProperty()，唯一不同的是返回Bool值。用于向对象中直接添加一个属性，或者修改一个对象的现有属性。</p> <p>target: 目标对象
propertyKey: 要定义或修改的属性名称
attributes: 要定义或修改的属性描述</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> student <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    Reflect<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>student<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        value<span class="token operator">:</span> <span class="token string">'Mike'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment">// Mike</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="reflect-deleteproperty"><a href="#reflect-deleteproperty" class="header-anchor">#</a> Reflect.deleteProperty()</h3> <p>Reflect.deleteProperty(target, propertyKey)</p> <p>删除一个对象上的属性，返回Bool值来确定是否成功。如果属性不存在返回true，如果属性被设置Object.freeze(obj)不可配置，返回false.</p> <p>target: 目标对象
propertyKey: 将被删除的属性名称</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>

    Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>    <span class="token comment">//{y: 2}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="reflect-get"><a href="#reflect-get" class="header-anchor">#</a> Reflect.get()</h3> <p>Reflect.get(target, propertyKey[, receiver])
用于从对象中获取属性的值</p> <p>target: 目标对象
propertyKey: 需要获取值的属性名称
receiver: 如果遇到getter，此值将提供给目标调用</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">// Object</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
            x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            y<span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
    Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span>    <span class="token comment">// 1</span>

    <span class="token comment">// Array</span>
    Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment">// 2</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="reflect-getownpropertydescriptor"><a href="#reflect-getownpropertydescriptor" class="header-anchor">#</a> Reflect.getOwnPropertyDescriptor()</h3> <p>Reflect.getOwnPropertyDescriptor(target, propertyKey)
静态方法，与Object.getOwnPropertyDescriptor()类似，如果propertyKey在对象中存在，返回属性描述符，否则返回undefined。</p> <p>target: 目标对象
propertyKey: 获取属性描述符的属性名称</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    Reflect<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span>
    <span class="token comment">// {value: 1, writable: true, enumerable: true, configurable: true}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Reflect.getOwnPropertyDescriptor()与Object.getOwnPropertyDescriptor()对比：</p> <p>如果Reflect.getOwnPropertyDescriptor()的第一个参数不是一个对象，那么会造成TypeError错误，如果是Object.getOwnPropertyDesriptor()的以一个参数不是一个对象，那么会强制转换为对象处理。</p> <h3 id="reflect-getpropertyof"><a href="#reflect-getpropertyof" class="header-anchor">#</a> Reflect.getPropertyOf()</h3> <p>Reflect.getPrototypeOf(target)
静态方法，与Object.getPropertyOf()方法一样，返回指定对象的原型对象，即为prototype</p> <p>target: 目标对象</p> <h3 id="reflect-has"><a href="#reflect-has" class="header-anchor">#</a> Reflect.has()</h3> <p>Reflect.has(target, propertyKey)
用于检查对象上是否有某个属性</p> <p>target: 目标对象
propertyKey: 要检查的属性名</p> <h3 id="reflect-isextensible"><a href="#reflect-isextensible" class="header-anchor">#</a> Reflect.isExtensible()</h3> <p>Reflect.isExtensible(target)
用于检查一个对象是否是可扩展的，即是否可以添加新的属性，与Object.isExtensible()一样。</p> <p>target: 目标对象</p> <h3 id="reflect-ownkeys"><a href="#reflect-ownkeys" class="header-anchor">#</a> Reflect.ownKeys()</h3> <p>Reflect.ownKeys(target)
返回由目标对象自身属性键构成的数组</p> <p>target: 目标对象</p> <h3 id="reflect-preventextensions"><a href="#reflect-preventextensions" class="header-anchor">#</a> Reflect.preventExtensions()</h3> <p>Reflect.preventExtensions(target)
用于阻止新属性添加到对象。</p> <p>target: 目标对象</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    obj<span class="token punctuation">.</span><span class="token function">isExtensiable</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>     <span class="token comment">// true</span>
    obj<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    obj<span class="token punctuation">.</span><span class="token function">isExtensiable</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>     <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="reflect-set"><a href="#reflect-set" class="header-anchor">#</a> Reflect.set()</h3> <p>Reflect.set(target, propertyKey, value[, receiver])</p> <p>在对象上设置属性，返回一个Bool值来表示是否成功设置属性。</p> <p>target: 目标对象
propertyKey: 设置的属性名称
value: 设置的属性值
receiver: 如果遇到setter, this将提供给目标调用</p> <p>Reflect.set()还可以用于截断数组</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
    Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">'length'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>    <span class="token comment">// [1]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当Reflect.set()只有一个参数target时，propertyKey和value值是undefined</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    Reflect<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span>
    <span class="token comment">// { value: undefined, writable: true, enumerable: true, configurable: true }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="reflect-setpropertyof"><a href="#reflect-setpropertyof" class="header-anchor">#</a> Reflect.setPropertyOf()</h3> <p>Reflect.setPropertyOf(target, prototype)
用于改变对象的原型对象，即为prototype，返回一个Bool值表示设置是否成功。</p> <p>target: 目标对象
prototype: 新的原型对象</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>object1<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// expected output: true</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>object1<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// expected output: true</span>

    <span class="token keyword">const</span> object2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>object2<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// expected output: false</span>
    <span class="token comment">// 因为Object.freeze()冻结了对象object2，使其无法被修改，所以想要更改其原型对象就是被禁止的操作，所以Reflect.setPrototypeOf()失败，返回False</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="proxy-代理"><a href="#proxy-代理" class="header-anchor">#</a> Proxy 代理</h2> <p>Proxy对象用于创建一个对象的代理，从而实现基本操作的拦截和自定义。
Proxy(target, handler)</p> <p>target: 要代理的目标对象
handler: 一个对象，其属性是当执行一个操作时定义代理的行为的函数</p> <p>基本用法，例如使用Proxy拦截对于对象属性的读取和修改</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        price<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'tooth'</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 这是一个包含商品进货信息的对象，假设我们期望对外展示商品名和售价，那么商品名正常输出，价格需要加上利润，此时可以使用Proxy做拦截</span>
    <span class="token comment">// 同理如果想修改售价，我们需要保证售价不能低于进货价，所以要进行拦截</span>

    <span class="token keyword">let</span> user_obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>property <span class="token operator">==</span> <span class="token string">'price'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">20</span>
            <span class="token punctuation">}</span>
                <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>property <span class="token operator">==</span> <span class="token string">'price'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Price too low'</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user_obj<span class="token punctuation">.</span>name<span class="token punctuation">,</span> user_obj<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
    user_obj<span class="token punctuation">.</span>price <span class="token operator">=</span> <span class="token number">120</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user_obj<span class="token punctuation">.</span>name<span class="token punctuation">,</span> user_obj<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
    user_obj<span class="token punctuation">.</span>price <span class="token operator">=</span> <span class="token number">80</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user_obj<span class="token punctuation">.</span>name<span class="token punctuation">,</span> user_obj<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="使用案例-定义一个类-使每个实例对象都有自己的id-且只读"><a href="#使用案例-定义一个类-使每个实例对象都有自己的id-且只读" class="header-anchor">#</a> 使用案例：定义一个类，使每个实例对象都有自己的id，且只读</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                id<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">get</span> <span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>proxy<span class="token punctuation">.</span>id
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

    <span class="token comment">// id没有定义setter方法，所以无法修改</span>
    s<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

    <span class="token comment">// proxy作为对象属性，没有拦截set，所以是可以修改的</span>
    s<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'123'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="临时代理"><a href="#临时代理" class="header-anchor">#</a> 临时代理</h3> <p>Proxy.revocable()</p> <p>当代理的revoke函数被调用后，代理就被取消掉了</p> <p>需要注意的是，当调用Proxy.revocable()时返回的对象与new Proxy()不同，Proxy.revocable()返回的proxy属性才是被代理的对象。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        price<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'tooth'</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> p <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">get</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">let</span> data <span class="token operator">=</span> p<span class="token punctuation">.</span>proxy

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>price<span class="token punctuation">)</span>

    p<span class="token punctuation">.</span><span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新：:</span> <span class="time">3/5/2024, 5:25:46 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.08f5e775.js" defer></script><script src="/assets/js/2.62bc100e.js" defer></script><script src="/assets/js/27.ea935bde.js" defer></script>
  </body>
</html>
